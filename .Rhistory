geom_point(color="blue",alpha=1/2) +
geom_label() +
theme_bw()
ggplotly(p)
p <- ggplot(data = d, aes(x = carat, y = price, size=depth, label=clarity)) +
geom_point(color="blue",alpha=1/2) +
geom_label() +
theme_bw()
ggplotly(p)
p <- ggplot(data = d, aes(x = carat, y = price, color=depth, label=clarity)) +
geom_point(alpha=1/2) +
geom_label() +
theme_bw()
ggplotly(p)
p <- ggplot(data = d, aes(x = carat, y = price, color=depth, label=clarity)) +
geom_point(alpha=1/2) +
geom_label() +
theme_bw() +
scale_color_brewer()
ggplotly(p)
p <- ggplot(data = d, aes(x = carat, y = price, color=depth, label=clarity)) +
geom_point(alpha=1/2) +
geom_label() +
theme_bw() +
scale_color_continuous(low="red", high="blue")
ggplotly(p)
install.packages("ggmap")
p <- ggplot(data = d, aes(x = carat, y = price, color=depth, label=clarity)) +
geom_point(alpha=1/2) +
geom_label() +
geom_smooth() +
theme_bw() +
scale_color_continuous(low="red", high="blue")
ggplotly(p)
p <- ggplot(data = d, aes(x = carat, y = price, color=depth, label=clarity)) +
geom_point(alpha=1/2) +
geom_label() +
geom_smooth(color="black") +
theme_bw() +
scale_color_continuous(low="red", high="blue")
ggplotly(p)
summary(d)
p <- ggplot(data = d, aes(x = carat, y = price, color=table, label=clarity)) +
geom_point(alpha=1/2) +
geom_label() +
geom_smooth(color="black") +
theme_bw() +
scale_color_continuous(low="red", high="blue")
ggplotly(p)
p <- ggplot(data = d, aes(x = carat, y = price, color=table, label=clarity)) +
geom_point(alpha=1/2) +
geom_label() +
geom_smooth(color="black") +
theme_bw() +
scale_color_continuous2(low="red", high="blue", midpoint=60)
ggplot(data = d, aes(x = carat, y = price, color=table, label=clarity)) +
geom_point(alpha=1/2) +
geom_label() +
geom_smooth(color="black") +
theme_bw() +
scale_color_gradient2(low="red", high="blue", midpoint=60)
p <- ggplot(data = d, aes(x = carat, y = price, color=table, label=clarity)) +
geom_point(alpha=1/2) +
geom_label() +
geom_smooth(color="black") +
theme_bw() +
scale_color_gradient2(low="red", high="blue", midpoint=60)
ggplotly(p)
p <- ggplot(data = d, aes(x = carat, y = price, color=table, label=clarity)) +
geom_point(alpha=1/2) +
geom_label() +
geom_smooth(method="loess",color="black") +
theme_bw() +
scale_color_gradient2(low="red", high="blue", midpoint=60)
ggplotly(p)
p <- ggplot(data = d, aes(x = carat, y = price, fill=table, label=clarity)) +
geom_point(alpha=0.8,color=white) +
geom_label() +
geom_smooth(method="loess",color="black") +
theme_bw() +
scale_color_gradient2(low="red", high="blue", midpoint=60)
p <- ggplot(data = d, aes(x = carat, y = price, fill=table, label=clarity)) +
geom_point(alpha=0.8,color="white") +
geom_label() +
geom_smooth(method="loess",color="black") +
theme_bw() +
scale_color_gradient2(low="red", high="blue", midpoint=60)
ggplotly(p)
p <- ggplot(data = d, aes(x = carat, y = price, fill=table, label=clarity)) +
geom_point(alpha=0.8,shape=21,color="white") +
geom_label() +
geom_smooth(method="loess",color="black") +
theme_bw() +
scale_color_gradient2(low="red", high="blue", midpoint=60)
ggplotly(p)
p <- ggplot(data = d, aes(x = carat, y = price, fill=table, label=clarity)) +
geom_point(alpha=0.8,shape=21,color="white",size=2) +
geom_label() +
geom_smooth(method="loess",color="black") +
theme_bw() +
scale_color_gradient2(low="red", high="blue", midpoint=60)
ggplotly(p)
p <- ggplot(data = d, aes(x = carat, y = price, fill=table, label=clarity)) +
geom_point(alpha=0.8,shape=21,color="white",size=3) +
geom_label() +
geom_smooth(method="loess",color="black") +
theme_bw() +
scale_fill_gradient2(low="red", high="blue", midpoint=60)
ggplotly(p)
summary(d)
p <- ggplot(data = d, aes(x = carat, y = price, fill=table, label=clarity)) +
geom_point(alpha=0.8,shape=21,color="white",size=3) +
geom_label() +
#geom_smooth(method="loess",color="black") +
theme_bw() +
scale_fill_gradient2(low="red", high="blue", midpoint=60)
ggplotly(p)
p <- ggplot(data = d, aes(x = carat, y = price, fill=table, label=clarity)) +
geom_point(shape=21,color="white",size=3) +
geom_label() +
#geom_smooth(method="loess",color="black") +
theme_bw() +
scale_fill_gradient2(low="red", high="blue", midpoint=60)
p <- ggplot(data = d, aes(x = carat, y = price, fill=table, label=clarity)) +
geom_point(shape=21,color="white",size=3) +
geom_label() +
#geom_smooth(method="loess",color="black") +
theme_bw() +
scale_fill_gradient2(low="red", high="blue")
ggplotly(p)
summary(d)
p <- ggplot(data = d, aes(x = carat, y = price, fill=table, label=clarity)) +
geom_point(shape=21,color="white",size=3) +
geom_label() +
#geom_smooth(method="loess",color="black") +
theme_bw() +
scale_fill_gradient(low="red", high="blue")
ggplotly(p)
p <- ggplot(data = d, aes(x = carat, y = price, fill=table, label=clarity)) +
geom_point() +
geom_label() +
#geom_smooth(method="loess",color="black") +
theme_bw() +
scale_fill_gradient(low="red", high="blue")
ggplotly(p)
p <- ggplot(data = d, aes(x = carat, y = price, fill=table, label=clarity)) +
geom_point(shape=21,color="white",size=3) +
geom_label() +
#geom_smooth(method="loess",color="black") +
theme_bw() +
scale_fill_gradient(low="red", high="blue")
ggplotly(p)
p <- ggplot(data = d, aes(x = carat, y = price, color=table, label=clarity)) +
geom_point() +
geom_label() +
#geom_smooth(method="loess",color="black") +
theme_bw() +
scale_color_gradient(low="red", high="blue")
ggplotly(p)
p <- ggplot(data = d, aes(x = carat, y = price, fill=table, label=clarity)) +
geom_point(shape=21,color="white",size=3) +
geom_label() +
#geom_smooth(method="loess",color="black") +
theme_bw() +
scale_fill_gradient(low="red", high="blue")
ggplotly(p)
p <- ggplot(data = d, aes(x = carat, y = price, fill=table, label=clarity)) +
geom_point(shape=21,color="white",size=3) +
geom_label() +
#geom_smooth(method="loess",color="black") +
theme_bw()
ggplotly(p)
p <- ggplot(data = d, aes(x = carat, y = price, color=table, label=clarity)) +
geom_point(size=3) +
geom_label() +
#geom_smooth(method="loess",color="black") +
theme_bw() +
scale_color_gradient(low="red", high="blue")
ggplotly(p)
p <- ggplot(data = d, aes(x = carat, y = price, color=table, label=clarity)) +
geom_point(size=2,alpha=0.8) +
geom_label() +
#geom_smooth(method="loess",color="black") +
theme_bw() +
scale_color_gradient(low="red", high="blue")
ggplotly(p)
cor(d)
cor(d[,c("price","carat","table","depth")])
melt(cor(d[,c("price","carat","table","depth")]))
library(data.table)
library(ggplot2)
setwd("~/Projects/etfs/")
etfs = fread("ishares_etf_products_uk.csv",na.strings = "-")
View(etfs)
?fread
etfs = fread("ishares_etf_products_uk.csv",na.strings = "-",cmd="tr -d ','")
etfs = fread(cmd="tr -d ',' ishares_etf_products_uk.csv",na.strings = "-",)
etfs = fread(cmd="tr -d ',' < ishares_etf_products_uk.csv",na.strings = "-")
View(etfs)
etfs = fread(cmd="tr -d ',' < ishares_etf_products_uk.csv",
na.strings = "-",encoding="UTF-8")
View(etfs)
etfs[`Asset Class`=="Equity"]
ggplot(etfs[`Asset Class`=="Equity"],aes(x=TER,y=`Cumulative Perf. 5Y (%)`)) +
geom_point()
ggplot(etfs[`Asset Class`=="Equity"],aes(x=TER,y=`Cumulative Perf. 5Y (%)`,color=Market)) +
geom_point()
ggplot(etfs[`Asset Class`=="Equity"],aes(x=TER,y=`Cumulative Perf. 5Y (%)`)) +
geom_point() +
geom_smooth()
ggplot(etfs[`Asset Class`=="Equity"],aes(x=TER,y=`Cumulative Perf. 5Y (%)`)) +
geom_point() +
geom_smooth(method="lm")
cor.test(etfs[`Asset Class`=="Equity"]$TER, etfs[`Asset Class`=="Equity"]$`Cumulative Perf. 5Y (%)`)
cor.test(etfs[`Asset Class`=="Equity"]$TER, etfs[`Asset Class`=="Equity"]$`Cumulative Perf. 5Y (%)`,method="spearman")
ggplot(etfs[`Asset Class`=="Equity"],aes(x=TER,y=`Cumulative Perf. 5Y (%)`)) +
geom_point() +
geom_smooth(method="gam")
?geom_smooth
ggplot(etfs[`Asset Class`=="Equity"],aes(x=TER,y=`Cumulative Perf. 5Y (%)`)) +
geom_point() +
geom_smooth(method="gam",se=FALSE)
ggplot(etfs[`Asset Class`=="Equity"],aes(x=TER,y=`Annualised Perf. 5Y (%)`)) +
geom_point() +
geom_smooth(method="gam",se=FALSE)
ggplot(etfs[`Asset Class`=="Equity"&`Distribution type`=="Accumulating"],aes(x=TER,y=`Cumulative Perf. 5Y (%)`)) +
geom_point() +
geom_smooth(method="gam",se=FALSE)
ggplot(etfs[`Asset Class`=="Equity"&`Distribution Type`=="Accumulating"],aes(x=TER,y=`Cumulative Perf. 5Y (%)`)) +
geom_point() +
geom_smooth(method="gam",se=FALSE)
names(etfs)
ggplot(etfs[`Asset Class`=="Equity"&`Distribution\nType`=="Accumulating"],aes(x=TER,y=`Cumulative Perf. 5Y (%)`)) +
geom_point() +
geom_smooth(method="gam",se=FALSE)
cor.test(etfs[`Asset Class`=="Equity"&`Distribution\nType`=="Accumulating"]$TER,
etfs[`Asset Class`=="Equity"&`Distribution\nType`=="Accumulating"]$`Cumulative Perf. 5Y (%)`,method="spearman")
ggplot(etfs[`Asset Class`=="Equity"&`Distribution\nType`=="Accumulating"],aes(x=TER,y=`Annualised Perf. 5Y (%)`)) +
geom_point() +
geom_smooth(method="gam",se=FALSE)
ggplot(etfs[`Asset Class`=="Equity"&`Distribution\nType`=="Accumulating"],aes(x=TER,y=`Annualised Perf. 5Y (%)`,color=`Sub Asset Class`)) +
geom_point() +
geom_smooth(method="gam",se=FALSE)
ggplot(etfs[`Asset Class`=="Equity"&`Distribution\nType`=="Accumulating"],aes(x=TER,y=`Annualised Perf. 5Y (%)`,color=`Sub Asset Class`)) +
geom_point()
ggplot(etfs[`Asset Class`=="Equity"&`Distribution\nType`=="Accumulating"],aes(x=TER,y=`Annualised Perf. 5Y (%)`,color=`Region`)) +
geom_point()
ggplot(etfs[`Asset Class`=="Equity"&`Distribution\nType`=="Accumulating"],
aes(x=TER,y=`Annualised Perf. 5Y (%)`,color=`Region`,label=Ticker)) +
geom_point() +
geom_label()
ggplot(etfs[`Asset Class`=="Equity"&`Distribution\nType`=="Accumulating"],
aes(x=TER,y=`Annualised Perf. 5Y (%)`,color=`Region`,label=Ticker)) +
geom_label(size=10)
ggplot(etfs[`Asset Class`=="Equity"&`Distribution\nType`=="Accumulating"],
aes(x=TER,y=`Annualised Perf. 5Y (%)`,color=`Region`,label=Ticker)) +
geom_label(size=2)
library(ggrepel)
ggplot(etfs[`Asset Class`=="Equity"&`Distribution\nType`=="Accumulating"],
aes(x=TER,y=`Annualised Perf. 5Y (%)`,color=`Region`,label=Ticker)) +
geom_point() +
geom_text_repel()
ggplot(etfs[`Asset Class`=="Equity"&`Distribution\nType`=="Accumulating"],
aes(x=TER,y=`Annualised Perf. 5Y (%)`,color=`Region`,label=Ticker)) +
geom_point() +
geom_text_repel(size=2)
ggplot(etfs[`Asset Class`=="Equity"&`Distribution\nType`=="Accumulating"],
aes(x=TER,y=`Annualised Perf. 5Y (%)`,color=`Location`,label=Ticker)) +
geom_point() +
geom_text_repel(size=2)
etfs[`Location`=="China"]
View(etfs[`Location`=="China"])
ggplot(etfs[`Asset Class`=="Equity"&`Distribution\nType`=="Accumulating"],
aes(x=TER,y=`Annualised Perf. 5Y (%)`,color=`Region`,label=Ticker)) +
geom_point() +
geom_text_repel(size=2)
ggplot(etfs[`Asset Class`=="Equity"&`Distribution\nType`=="Accumulating"&Location%in%c("China","United States")],
aes(x=TER,y=`Annualised Perf. 5Y (%)`,color=`Location`,label=Ticker)) +
geom_point() +
geom_text_repel(size=2)
ggplot(etfs[`Asset Class`=="Equity"&`Distribution\nType`=="Accumulating"],
aes(x=TER,y=`Annualised Perf. 5Y (%)`,color=`Region`,label=Ticker)) +
geom_point() +
geom_text_repel(size=2)
View(etfs[`Ticker`=="CMXC"])
View(etfs[`Ticker`=="SRSA"])
ggplot(etfs[`Asset Class`=="Equity"&`Distribution\nType`=="Accumulating"],
aes(x=TER,y=`Annualised Perf. 1Y (%)`,color=`Region`,label=Ticker)) +
geom_point() +
geom_text_repel(size=2)
View(etfs[`Ticker`=="CNDX"])
View(etfs[`Ticker`=="ICHN"])
ggplot(etfs[`Asset Class`=="Equity"&`Distribution\nType`=="Accumulating"&Location%in%c("China","United States")],
aes(x=TER,y=`Discrete Perf. 5Y (%)`,color=`Location`,label=Ticker)) +
geom_point() +
geom_text_repel(size=2)
ggplot(etfs[`Asset Class`=="Equity"&`Distribution\nType`=="Accumulating"],
aes(x=TER,y=`Discrte Perf. 1Y (%)`,color=`Region`,label=Ticker)) +
geom_point() +
geom_text_repel(size=2)
ggplot(etfs[`Asset Class`=="Equity"&`Distribution\nType`=="Accumulating"],
aes(x=TER,y=`Discrete Perf. 1Y (%)`,color=`Region`,label=Ticker)) +
geom_point() +
geom_text_repel(size=2)
View(etfs[`Market`=="Emerging"])
View(etfs[`Market`=="Emerging"&`Distribution\nType`=="Accumulating"])
ggplot(etfs[`Asset Class`=="Equity"&`Distribution\nType`=="Accumulating"&`Market`=="Emerging"],
aes(x=TER,y=`Discrete Perf. 1Y (%)`,color=`Location`,label=Ticker)) +
geom_point() +
geom_text_repel(size=2)
ggplot(etfs[`Asset Class`=="Equity"&`Distribution\nType`=="Accumulating"],
aes(x=TER,y=`Discrete Perf. 1Y (%)`,color=`Region`,label=Ticker)) +
geom_point() +
geom_text_repel(size=2)
ggplot(etfs[`Asset Class`=="Equity"&`Distribution\nType`=="Accumulating"],
aes(x=TER,y=`Discrete Perf. 1Y (%)`,color=`Region`,size=`Net Assets`)) +
geom_point()
ggplot(etfs[`Asset Class`=="Equity"&`Distribution\nType`=="Accumulating"],
aes(x=TER,y=`Discrete Perf. 1Y (%)`,color=`Region`,size=`Net Assets`)) +
geom_point()
geom_text_repel(size=2)
ggplot(etfs[`Asset Class`=="Equity"&`Distribution\nType`=="Accumulating"],
aes(x=TER,y=`Discrete Perf. 1Y (%)`,color=`Region`,size=`Net Assets`)) +
geom_point() +
geom_text_repel(size=2)
ggplot(etfs[`Asset Class`=="Equity"&`Distribution\nType`=="Accumulating"],
aes(x=TER,y=`Discrete Perf. 1Y (%)`,color=`Region`,size=`Net Assets`,label=Ticker)) +
geom_point() +
geom_text_repel(size=2)
ggplot(etfs[`Asset Class`=="Equity"&`Distribution\nType`=="Accumulating"],
aes(x=TER,y=`Discrete Perf. 1Y (%)`,fill=`Region`,size=`Net Assets`,label=Ticker)) +
geom_point() +
geom_text_repel(size=2)
ggplot(etfs[`Asset Class`=="Equity"&`Distribution\nType`=="Accumulating"],
aes(x=TER,y=`Discrete Perf. 1Y (%)`,color=`Region`,size=`Net Assets`,label=Ticker)) +
geom_point() +
geom_text_repel(size=2)
View(etfs[`Distribution\nType`=="Accumulating"][order(`Net Assets`)])
View(etfs[`Distribution\nType`=="Accumulating"][order(-`Net Assets`)])
View(etfs[`Asset Class`=="Equity"&`Distribution\nType`=="Accumulating"][order(-`Net Assets`)])
ggplot(etfs[`Asset Class`=="Equity"&`Distribution\nType`=="Accumulating"],
aes(x=`Net Assets`,y=`Discrete Perf. 1Y (%)`,color=`Region`,size=`Net Assets`,label=Ticker)) +
geom_point() +
geom_text_repel(size=2)
ggplot(etfs[`Asset Class`=="Equity"&`Distribution\nType`=="Accumulating"],
aes(x=log10(`Net Assets`),y=`Discrete Perf. 1Y (%)`,color=`Region`,size=`Net Assets`,label=Ticker)) +
geom_point() +
geom_text_repel(size=2)
cor.test(etfs[`Asset Class`=="Equity"&`Distribution\nType`=="Accumulating"]$`Discrete Perf. 1Y (%)`,
log10(etfs[`Asset Class`=="Equity"&`Distribution\nType`=="Accumulating"]$`Net Assets`),method="spearman")
ggplot(etfs[`Asset Class`=="Equity"&`Distribution\nType`=="Accumulating"],
aes(x=log10(`Net Assets`),y=`Discrete Perf. 1Y (%)`,color=`Region`,size=`Net Assets`,label=Ticker)) +
geom_point() +
geom_text_repel(size=2)
ggplot(etfs[`Asset Class`=="Equity"&`Distribution\nType`=="Accumulating"],
aes(x=TER,y=`Discrete Perf. 1Y (%)`,color=`Region`,size=`Net Assets`,label=Ticker)) +
geom_point() +
geom_text_repel(size=2)
ggplot(etfs[`Asset Class`=="Equity"&`Distribution\nType`=="Accumulating"],
aes(x=log10(`Net Assets`),y=`Discrete Perf. 1Y (%)`,color=`Region`,size=`Net Assets`,label=Ticker)) +
geom_point() +
geom_text_repel(size=2)
ggplot(etfs[`Asset Class`=="Equity"&`Distribution\nType`=="Accumulating"],aes(x=TER,y=`Cumulative Perf. 5Y (%)`)) +
geom_point() +
geom_smooth(method="gam",se=FALSE)
ggplot(etfs[`Asset Class`=="Equity"&`Distribution\nType`=="Accumulating"],
aes(x=log10(`Net Assets`),y=`Discrete Perf. 1Y (%)`,color=`Region`,size=`Net Assets`,label=Ticker)) +
geom_point() +
geom_text_repel(size=2)
ggplot(etfs[`Asset Class`=="Equity"&`Distribution\nType`=="Accumulating"],
aes(x=TER,y=`Discrete Perf. 1Y (%)`,color=`Region`,size=`Net Assets`,label=Ticker)) +
geom_point() +
geom_text_repel(size=2)
ggplot(etfs[`Asset Class`=="Equity"&`Distribution\nType`=="Accumulating"&`Market`=="Emerging"],
aes(x=TER,y=`Discrete Perf. 1Y (%)`,color=`Location`,label=Ticker)) +
geom_point() +
geom_text_repel(size=2)
ggplot(etfs[`Asset Class`=="Equity"&`Distribution\nType`=="Accumulating"],
aes(x=TER,y=`Annualised Perf. 5Y (%)`,color=`Region`,size=`Net Assets`,label=Ticker)) +
geom_point() +
geom_text_repel(size=2)
ggplot(etfs[`Asset Class`=="Equity"&`Distribution\nType`=="Accumulating"],
aes(x=log10(`Net Assets`),y=`Annualised Perf. 5Y (%)`,color=`Region`,size=`Net Assets`,label=Ticker)) +
geom_point() +
geom_text_repel(size=2)
ggplot(etfs[`Asset Class`=="Equity"&`Distribution\nType`=="Accumulating"],
aes(x=log10(`Net Assets`),y=`Annualised Perf. 5Y (%)`,color=`Region`,size=`Net Assets`,label=Ticker)) +
geom_point() +
geom_text_repel(size=2) +
xlim(6,12)
ggplot(etfs[`Asset Class`=="Equity"&`Distribution\nType`=="Accumulating"],
aes(x=log10(`Net Assets`),y=`Annualised Perf. 5Y (%)`,color=`Region`,size=`Net Assets`,label=Ticker)) +
geom_point() +
geom_text_repel(size=2) +
xlim(6.5,11)
ggplot(etfs[`Asset Class`=="Equity"&`Distribution\nType`=="Accumulating"],
aes(x=TER,y=`Annualised Perf. 5Y (%)`,color=`Region`,size=`Net Assets`,label=Ticker)) +
geom_point() +
geom_text_repel(size=2)
p = ggplot(etfs[`Asset Class`=="Equity"&`Distribution\nType`=="Accumulating"],
aes(x=TER,y=`Discrete Perf. 1Y (%)`,color=`Region`,size=`Net Assets`,label=Ticker)) +
geom_point() +
geom_text_repel(size=2)
pdf()
plot(p)
dev.off()
pdf("perform_1y_vs_net_assets.pdf",w=10,h=6)
plot(p)
dev.off()
p = ggplot(etfs[`Asset Class`=="Equity"&`Distribution\nType`=="Accumulating"],
aes(x=TER,y=`Discrete Perf. 1Y (%)`,color=`Region`,size=`Net Assets`,label=Ticker)) +
geom_point() +
geom_text_repel(size=2)
pdf("perform_1y_vs_fees.pdf",w=10,h=6)
plot(p)
dev.off()
p = ggplot(etfs[`Asset Class`=="Equity"&`Distribution\nType`=="Accumulating"],
aes(x=log10(`Net Assets`),y=`Discrete Perf. 1Y (%)`,color=`Region`,size=`Net Assets`,label=Ticker)) +
geom_point() +
geom_text_repel(size=2)
pdf("perform_1y_vs_net_assets.pdf",w=10,h=6)
plot(p)
dev.off()
p = ggplot(etfs[`Asset Class`=="Equity"&`Distribution\nType`=="Accumulating"],
aes(x=log10(`Net Assets`),y=`Discrete Perf. 1Y (%)`,color=`Region`,size=`Net Assets`,label=Ticker)) +
geom_point() +
geom_text_repel(size=2) +
xlim(6.5,11)
pdf("perform_1y_vs_net_assets.pdf",w=10,h=6)
plot(p)
dev.off()
p = ggplot(etfs[`Asset Class`=="Equity"&`Distribution\nType`=="Accumulating"],
aes(x=log10(`Net Assets`),y=`Discrete Perf. 1Y (%)`,color=`Region`,size=`Net Assets`,label=Ticker)) +
geom_point() +
geom_text_repel(size=2) +
xlim(6,11)
pdf("perform_1y_vs_net_assets.pdf",w=10,h=6)
plot(p)
dev.off()
p = ggplot(etfs[`Asset Class`=="Equity"&`Distribution\nType`=="Accumulating"],
aes(x=TER,y=`Annualised Perf. 5Y (%)`,color=`Region`,size=`Net Assets`,label=Ticker)) +
geom_point() +
geom_text_repel(size=2)
pdf("perform_5y_vs_fees.pdf",w=10,h=6)
plot(p)
dev.off()
p = ggplot(etfs[`Asset Class`=="Equity"&`Distribution\nType`=="Accumulating"],
aes(x=log10(`Net Assets`),y=`Annualised Perf. 5Y (%)`,color=`Region`,size=`Net Assets`,label=Ticker)) +
geom_point() +
geom_text_repel(size=2) +
xlim(6.5,11)
pdf("perform_5y_vs_net_assets.pdf",w=10,h=6)
plot(p)
dev.off()
median(c(1,2))
median(c(1,2,3))
median(c(1,2,3,4,5))
median(c(1,2,3,4,5,6))
library(data.table)
library(ggplot2)
setwd("~/DocumentsResearch/courses/unix-course/exercises/mouse-go-analysis/")
div = fread("data/01-divergence/divergence.bed")
head(div)
names(div) = c("gene","num_diff","size","div")
summary(div)
ggplot(div, aes(x=div)) +
geom_histogram()
ggplot(div, aes(x=div)) +
geom_histogram(bins=10)
ggplot(div, aes(x=div)) +
geom_histogram(bins=20)
ggplot(div, aes(x=div)) +
geom_histogram(bins=30)
ggplot(div, aes(x=div)) +
geom_histogram(bins=50)
View(div)
go = fread("data/02-go/divergence_by_go.txt")
head(go)
names(go) = c("GOID","DOMAIN","NAME","DIV","NUMGENES")
ggplot(go, aes(x=NAME,y=DIV)) +
geom_bar(stat="identity")
ggplot(go, aes(x=reorder(NAME,DIV),y=DIV)) +
geom_bar(stat="identity")
ggplot(go, aes(x=reorder(NAME,DIV),y=DIV)) +
geom_bar(stat="identity") +
theme(axis.text.x = element_text(angle = 90))
go[,AVG:=mean(DIV)]
go[,REL_DIV:=DIV-AVG]
ggplot(go, aes(x=reorder(NAME,DIV),y=REL_DIV)) +
geom_bar(stat="identity") +
theme(axis.text.x = element_text(angle = 90))
ggplot(go, aes(x=reorder(NAME,DIV),y=REL_DIV,fill=REL_DIV)) +
geom_bar(stat="identity") +
theme(axis.text.x = element_text(angle = 90))
ggplot(go, aes(x=reorder(NAME,DIV),y=REL_DIV,fill=REL_DIV)) +
geom_bar(stat="identity") +
theme(axis.text.x = element_text(angle = 90,vjust = 0.5, hjust=1))
ggplot(go, aes(x=reorder(NAME,DIV),y=REL_DIV,fill=REL_DIV)) +
geom_bar(stat="identity") +
theme(axis.text.x = element_text(angle = 90,vjust = 0.5, hjust=1)) +
scale_colour_gradient2()
ggplot(go, aes(x=reorder(NAME,DIV),y=REL_DIV,fill=REL_DIV)) +
geom_bar(stat="identity") +
theme(axis.text.x = element_text(angle = 90,vjust = 0.5, hjust=1)) +
scale_fill_gradient2()
p = ggplot(go, aes(x=reorder(NAME,DIV),y=REL_DIV,fill=REL_DIV)) +
geom_bar(stat="identity") +
theme(axis.text.x = element_text(angle = 90,vjust = 0.5, hjust=1)) +
scale_fill_gradient2()
pdf("results/go-enrichment.pdf")
plot(p)
dev.off()
